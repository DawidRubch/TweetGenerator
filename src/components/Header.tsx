import { motion } from "framer-motion";
import { useRouter } from "next/router";

export const Header = ({ children }: { children?: React.ReactNode }) => {
  return (
    <header className="flex w-full items-center">
      <Logo />
      <h1 className="ml-5 text-3xl font-bold text-white	">TweetGenerator</h1>
      {children}
    </header>
  );
};

const icon = {
  hidden: {
    pathLength: 0,
    fill: "#fff",
  },
  visible: {
    pathLength: 1,
    fill: "#1DA1F2",
  },
};

export const Logo = () => {
  const { push } = useRouter();
  const goToHome = () => {
    push("/").catch((err) => console.log(err));
  };

  return (
    <button onClick={goToHome}>
      <motion.svg
        width="56"
        height="56"
        viewBox="0 0 56 56"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <motion.path
          variants={icon}
          d="M42.5934 33.3577C50.6684 24.2851 54.0672 16.9626 55.3378 11.5932C56.0728 8.48849 56.0868 6.06282 55.8978 4.3652C55.8247 3.69927 55.6983 3.04027 55.5198 2.39456C55.4435 2.12143 55.3524 1.85268 55.2468 1.58951C54.9912 1.01547 54.6587 0.76695 54.0147 0.553436C53.8299 0.494345 53.6431 0.441808 53.4546 0.395925C52.7988 0.236923 52.1319 0.128101 51.4595 0.070402C49.7444 -0.0836087 47.2942 -0.0346053 44.179 0.728448C38.8026 2.03754 31.5151 5.42928 22.614 13.3433L14.2134 14.1764H14.1924C12.1739 14.4014 10.2924 15.3076 8.85804 16.7456L0.520462 25.0971C0.256385 25.3631 0.0823266 25.7051 0.0227726 26.0751C-0.0367815 26.4451 0.021166 26.8245 0.188463 27.1599C0.35576 27.4953 0.623988 27.7697 0.955411 27.9447C1.28684 28.1197 1.66478 28.1864 2.03607 28.1354L8.67253 27.1868C9.6526 27.0468 10.7447 27.2323 12.0153 27.6488C12.8273 27.9148 13.5449 28.2089 14.3079 28.5169L15.0185 28.8074C15.7045 31.6636 17.3286 34.3378 19.4813 36.4904C21.6269 38.6396 24.2976 40.2707 27.1503 40.9602L27.4373 41.6673C27.7489 42.4303 28.0429 43.1514 28.3089 43.967C28.7219 45.2375 28.9109 46.3331 28.7709 47.3132L27.8224 53.9636C27.7723 54.3342 27.8394 54.7112 28.0143 55.0417C28.1892 55.3722 28.4631 55.6398 28.7976 55.8069C29.1322 55.974 29.5106 56.0322 29.8799 55.9734C30.2492 55.9147 30.5909 55.7419 30.8571 55.4793L39.1947 47.1277C40.6298 45.6926 41.5328 43.8059 41.7568 41.7863L42.5934 33.3577ZM42.9784 20.4103C40.1887 23.2105 36.2229 23.774 34.1298 21.6774C32.0367 19.5773 32.6037 15.6115 35.3934 12.8148C38.1866 10.0181 42.1489 9.45455 44.242 11.5512C46.3386 13.6478 45.7716 17.6136 42.9819 20.4103H42.9784Z"
          fill="#1DA1F2"
          initial={{ scale: 0 }}
          animate={{ rotate: 360, scale: 1 }}
          transition={{
            type: "spring",
            stiffness: 260,
            damping: 20,
            duration: 2.5,
          }}
        />
        <motion.path
          variants={icon}
          d="M18.2142 37.7575C20.0732 39.6389 22.2012 41.2337 24.5287 42.4899C20.6154 46.0146 7.27597 49.5884 6.83844 49.1508C6.39741 48.7063 9.41812 34.4883 13.2754 31.0196C14.4865 33.4347 16.2051 35.7449 18.2142 37.7575Z"
          fill="#1DA1F2"
        />
      </motion.svg>
    </button>
  );
};
